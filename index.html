<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Samucar - Stand Automóvel</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="./img/r.png">

    <!--Plugin CSS-->
    <link href="dist/css/plugins.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>

    <!--main Css-->
    <link href="dist/css/main.min.css" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
</head>
<body>
     <style>
         #cookies{
             text-align: center;
             bottom:0px;
             left:0px;
             height:20px;
             position:fixed;
             padding:4px 8px 4px 8px;
             width:100%;
             background:black;
             color:white;
  
             
        }
        .aCookies{
            margin-left:6px;
            cursor:pointer;
            text-decoration: underline;
        }
        .closeCookies{
          
         
            margin-left:18px;
        }
    </style>
<script>
        $("#cookieAprove").click(function(){
        $("#cookies").toggle();
        localStorage.setItem("cookie", 1);
      });
      localStorage.setItem("cookie", 0);
      
      if(localStorage.getItem("cookie")!=1){
         $(function(){
          $("#cookies").load("cookie.html");
      }); 
      }
       
      $(function(){
          $("#includedContent").load("https://samucar.pt/menu.html");
      });
    
  </script>
    <div id="cookies"></div>
<div id="includedContent" class="main-header"></div>

<!-- Slider-->
<section  class="py-0">
    <div id="owl-demo" class="owl-carousel owl-theme">
        <div class="item">
            <div class="background-image-maker gradient gradient-lr"></div>
            <div class="holder-image">
                <img src="./Samucar_M3.jpg" alt="" class="img-fluid d-none" />
            </div>
        </div>
        <div class="item">
            <div class="background-image-maker gradient gradient-lr"></div>
            <div class="holder-image">
                <img src="dist/images/slider2.jpg" alt="" class="img-fluid d-none" />
            </div>
        </div>
        <div class="item">
            <div class="background-image-maker gradient gradient-lr"></div>
            <div class="holder-image">
                <img src="dist/images/slider3.jpg" alt="" class="img-fluid d-none" />
            </div>
        </div>
    </div>
    <div class="owl-text-overlay">
        <div class="container">
            <div class="row">
                <div class="col-12 col-xl-5 col-lg-6">
<!--                    <h4 class="text-white">Procura uma viatura</h4>-->
                    <div class="row">
                        <div class="col-12 pl-0">
                            <div class="tab-content bg-white rounded full-block" id="myTabContent2">
                                <div class="tab-pane fade active show" id="tab1" role="tabpanel" aria-expanded="true">
                                    <div class="card-body p-4">
                                        <h4 class="text-center">Procura uma viatura</h4>
                                        <div class="tab-content bg-white rounded-bottom rounded-right" id="myTabContent3">
                                            <div class="tab-pane fade active show" id="id1" role="tabpanel" aria-expanded="true">
                                                <form>
                                                    <div class="form-group">
                                                        <input class="form-control ml-sm-0 rounded-1" type="search" placeholder="&#xF002; &nbsp; Pesquisa" style="font-family:FontAwesome, Arial;background-color: #e6e6e6">
                                                            <div class="search position-absolute">
                                                                <a href="#"></a>
                                                            </div>
                                                    </div>
                                                    
                                                    <div class="form-group">
                                                        <select class="form-control ml-sm-0 rounded-1" id="brandSel" style="border-radius: .25rem;" onchange="changeModels()">

                                                        </select>
                                                    </div>
                                                    <div class="form-group">
                                                        <select class="form-control ml-sm-0 rounded-1" id = "modelSel" style= "border-radius: .25rem;">
                                                            <option disabled selected value="-1">Selecionar Modelo</option>
                                                        
                                                        </select>
                                                    </div>
                                                    <!--                                                            <div class="form-group">-->
                                                    <!--                                                                <div id="slider-range"></div>-->
                                                    <!--<div class="row">
                                                        <div class="col-3">
                                                            <span id="search-min-price">0</span>Preço mínimo
                                                        </div>
                                                        <div class="col-3">
                                                            <input type="range" value="0" min="0" max="500000" step="50" />
                                                        </div>
                                                        <div class="col-3">
                                                            <input type="range" value="500" min="0" max="500000" step="50" />
                                                        </div>
                                                        <div class="col-3">
                                                            <span id="search-max-price">500</span>Preço máximo
                                                        </div>
                                                    </div>-->
                                                    <!--                                                            </div>-->
                                                    
                                                    <div class="rangeslider">
                                                    <input class="min" name="range_1" type="range" min="1" max="100" value="10" />
                                                    <input class="max" name="range_1" type="range" min="1" max="100" value="90" />
                                                    <span class="range_min light left">10.000 €</span>
                                                    <span class="range_max light right">90.000 €</span>
                                                    </div>
                                                    <style>
                                                        body{
font-family: sans-serif;
font-size:14px;
}
input[type='range'] {
  width: 210px;
  height: 30px;
  overflow: hidden;
  cursor: pointer;
    outline: none;
}
input[type='range'],
input[type='range']::-webkit-slider-runnable-track,
input[type='range']::-webkit-slider-thumb {
  -webkit-appearance: none;
    background: none;
}
input[type='range']::-webkit-slider-runnable-track {
  width: 200px;
  height: 3px;
  background: #003D7C;
    
}

input[type='range']:nth-child(2)::-webkit-slider-runnable-track{
  background: none;
}

input[type='range']::-webkit-slider-thumb {
  position: relative;
  height: 15px;
  width: 15px;
  margin-top: -6px;
  background: #fff;
  border: 1px solid #003D7C;
  border-radius: 25px;
  z-index: 1;
}


input[type='range']:nth-child(1)::-webkit-slider-thumb{
  z-index: 2;
}

.rangeslider{
    position: ;
    height: 60px;
    width: 80%;
    display: inline-block;
    margin-top: -5px;
    margin-left: 10px;
}
.rangeslider input{
    position: absolute;
}
.rangeslider{
    position: absolute;
}

.rangeslider span{
    position: absolute;
    margin-top: 30px;
    left: 0;
}

.rangeslider .right{
   position: relative;
   float: right;
   margin-right: -5px;
}
</style>
<script>
                                                    
 (function() {

        function addSeparator(nStr) {
            nStr += '';
            var x = nStr.split('.');
            var x1 = x[0];
            var x2 = x.length > 1 ? '.' + x[1] : '';
            var rgx = /(\d+)(\d{3})/;
            while (rgx.test(x1)) {
                x1 = x1.replace(rgx, '$1' + '.' + '$2');
            }
            return x1 + x2;
        }

        function rangeInputChangeEventHandler(e){
            var rangeGroup = $(this).attr('name'),
                minBtn = $(this).parent().children('.min'),
                maxBtn = $(this).parent().children('.max'),
                range_min = $(this).parent().children('.range_min'),
                range_max = $(this).parent().children('.range_max'),
                minVal = parseInt($(minBtn).val()),
                maxVal = parseInt($(maxBtn).val()),
                origin = $(this).context.className;

            if(origin === 'min' && minVal > maxVal-5){
                $(minBtn).val(maxVal-5);
            }
            var minVal = parseInt($(minBtn).val());
            $(range_min).html(addSeparator(minVal*1000) + ' €');


            if(origin === 'max' && maxVal-5 < minVal){
                $(maxBtn).val(5+ minVal);
            }
            var maxVal = parseInt($(maxBtn).val());
            $(range_max).html(addSeparator(maxVal*1000) + ' €');
        }

     $('input[type="range"]').on( 'input', rangeInputChangeEventHandler);
})();
</script>
                                                    
<!--
                                                    <script>
                                                        $( function() {
                                                            $( "#slider-range" ).slider({
                                                                range: true,
                                                                min: 0,
                                                                max: 500,
                                                                values: [ 75, 300 ],
                                                                slide: function( event, ui ) {
                                                                    $( "#amount" ).val( "$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ] );
                                                                }
                                                            });
                                                            $( "#amount" ).val( "$" + $( "#slider-range" ).slider( "values", 0 ) +
                                                                " - $" + $( "#slider-range" ).slider( "values", 1 ) );
                                                        } );
                                                    </script>
-->
                                                    <style>
                                                        input[type="range"] {
                                                            width: 100%;
                                                        }

                                                        #search-min-price,
                                                        #search-max-price {
                                                            width: 100%;
                                                            display: block;
                                                            text-align: center;
                                                            font-weight: bold;
                                                        }
                                                    </style>
                                                    <a href="javascript:;"
                                                       class="btn btn-primary btn-block btn-md text-uppercase font-weight-bold" style="margin-top: 70px"
                                                       onclick="searchVehicle()" 
                                                    >Procurar</a>
                                            </div>
                                            <div class="tab-pane fade" id="id2" role="tabpanel" aria-expanded="false">
                                                <form>
                                                    <div class="form-group">
                                                        <select class="form-control rounded">
                                                            
                                                        </select>
                                                    </div>
                                                    <div class="form-group">
                                                        <select class="form-control rounded">
                                                            
                                                        </select>
                                                    </div>
                                                    <a href="#" class="btn btn-primary btn-block btn-md text-uppercase font-weight-bold">Find Car</a>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                    <style>
                                        @media (max-width: 600px) {.info{
                                            flex: 0 0 25% !important;
                                            
                                            }}
                                    </style>
                                <div class="tab-pane fade" id="tab2" role="tabpanel" aria-expanded="false">
                                    <div class="card-body p-4">
                                        <ul class="nav nav-tabs border-0 justify-content-center mb-4  flex-column flex-sm-row text-center" id="myTab" role="tablist">
                                            <li class="nav-item mr-sm-3 mb-3 mb-sm-0">
                                                <a class="nav-link redial-light rounded active" data-toggle="tab" href="#id3" role="tab" aria-selected="true" aria-expanded="true">By Budget</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link redial-light rounded" data-toggle="tab" href="#id4" role="tab" aria-selected="false" aria-expanded="false">By Brand</a>
                                            </li>
                                        </ul>
                                        <div class="tab-content bg-white rounded-bottom rounded-right" id="myTabContent3">
                                            <div class="tab-pane fade active show" id="id3" role="tabpanel" aria-expanded="true">
                                                <form>
                                                    <div class="form-group">
                                                        <select class="form-control">
                                                            <option>--- Select Budget ---</option>
                                                            <option value="0">-Select Budget-</option>
                                                            <option value="1-lakh-5-lakh">1 Lakh - 5 Lakh</option>
                                                            <option value="5-lakh-10-lakh">5 Lakh - 10 Lakh</option>
                                                            <option value="10-lakh-20-lakh">10 Lakh - 20 Lakh</option>
                                                            <option value="20-lakh-50-lakh">20 Lakh - 50 Lakh</option>
                                                            <option value="50-lakh-1-crore">50 Lakh - 1 Crore</option>
                                                            <option value="above-1-crore">Above 1 Crore</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group">
                                                        <select class="form-control">
                                                            <option value="">--- Select City ---</option>
                                                            <option value="New Delhi">New Delhi</option>
                                                            <option value="Bangalore">Bangalore</option>
                                                            <option value="Mumbai">Mumbai</option>
                                                            <option value="Hyderabad">Hyderabad</option>
                                                            <option value="Chennai">Chennai</option>
                                                            <option value="Jaipur">Jaipur</option>
                                                            <option value="Pune">Pune</option>
                                                            <option value="Kolkata">Kolkata</option>
                                                            <option value="Gurgaon">Gurgaon</option>
                                                            <option value="Ahmedabad">Ahmedabad</option>
                                                            <option value="Noida">Noida</option>
                                                            <option value="Chandigarh">Chandigarh</option>
                                                            <option value="Indore">Indore</option>
                                                            <option value="Kochi">Kochi</option>
                                                            <option value="" disabled="">--------------------</option>
                                                            <option value="Agra">Agra</option>
                                                            <option value="Ahmedabad">Ahmedabad</option>
                                                            <option value="Ajmer">Ajmer</option>
                                                            <option value="Akola">Akola</option>
                                                            <option value="Alibag">Alibag</option>
                                                            <option value="Aligarh">Aligarh</option>
                                                            <option value="Allahabad">Allahabad</option>
                                                            <option value="Alwar">Alwar</option>
                                                            <option value="Amalapuram">Amalapuram</option>
                                                            <option value="Ambala">Ambala</option>
                                                            <option value="Ambernath">Ambernath</option>
                                                            <option value="Ambikapur">Ambikapur</option>
                                                            <option value="Amethi">Amethi</option>
                                                            <option value="Amravati">Amravati</option>
                                                            <option value="Amreli">Amreli</option>
                                                            <option value="Amritsar">Amritsar</option>
                                                            <option value="Amroha">Amroha</option>
                                                            <option value="Anantapur">Anantapur</option>
                                                            <option value="Aurangabad(bh)">Aurangabad(bh)</option>
                                                            <option value="Avadi">Avadi</option>
                                                            <option value="Azamgarh">Azamgarh</option>
                                                            <option value="Baddi">Baddi</option>
                                                            <option value="Badlapur">Badlapur</option>
                                                            <option value="Baran">Baran</option>
                                                            <option value="Barasat">Barasat</option>
                                                            <option value="Baraut">Baraut</option>
                                                            <option value="Bardhaman">Bardhaman</option>
                                                            <option value="Bardoli">Bardoli</option>
                                                            <option value="Bareilly">Bareilly</option>
                                                            <option value="Bargarh">Bargarh</option>
                                                            <option value="Baripada">Baripada</option>
                                                            <option value="Barmer">Barmer</option>
                                                            <option value="Barnala">Barnala</option>
                                                            <option value="Barpeta">Barpeta</option>
                                                            <option value="Barrackpore">Barrackpore</option>
                                                            <option value="Barsar">Barsar</option>
                                                            <option value="Barshi">Barshi</option>
                                                            <option value="Baruipur">Baruipur</option>
                                                        </select>
                                                    </div>
                                                    <a href="#" class="btn btn-primary btn-block btn-md text-uppercase font-weight-bold">Find Car</a>
                                                </form>
                                            </div>
                                            <div class="tab-pane fade" id="id4" role="tabpanel" aria-expanded="false">
                                                <form>
                                                    <div class="form-group">
                                                        <select class="form-control">
                                                            <option>--- Select Budget ---</option>
                                                            <option value="0">-Select Budget-</option>
                                                            <option value="1-lakh-5-lakh">1 Lakh - 5 Lakh</option>
                                                            <option value="5-lakh-10-lakh">5 Lakh - 10 Lakh</option>
                                                            <option value="10-lakh-20-lakh">10 Lakh - 20 Lakh</option>
                                                            <option value="20-lakh-50-lakh">20 Lakh - 50 Lakh</option>
                                                            <option value="50-lakh-1-crore">50 Lakh - 1 Crore</option>
                                                            <option value="above-1-crore">Above 1 Crore</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group">
                                                        <select class="form-control">
                                                            <option value="">--- Select City ---</option>
                                                            <option value="New Delhi">New Delhi</option>
                                                            <option value="Bangalore">Bangalore</option>
                                                            <option value="Mumbai">Mumbai</option>
                                                            <option value="Hyderabad">Hyderabad</option>
                                                            <option value="Chennai">Chennai</option>
                                                            <option value="Jaipur">Jaipur</option>
                                                            <option value="Pune">Pune</option>
                                                            <option value="Kolkata">Kolkata</option>
                                                            <option value="Gurgaon">Gurgaon</option>
                                                            <option value="Ahmedabad">Ahmedabad</option>
                                                            <option value="Noida">Noida</option>
                                                            <option value="Chandigarh">Chandigarh</option>
                                                            <option value="Indore">Indore</option>
                                                            <option value="Kochi">Kochi</option>
                                                            <option value="" disabled="">--------------------</option>
                                                            <option value="Agra">Agra</option>
                                                            <option value="Ahmedabad">Ahmedabad</option>
                                                            <option value="Ajmer">Ajmer</option>
                                                            <option value="Akola">Akola</option>
                                                            <option value="Alibag">Alibag</option>
                                                            <option value="Aligarh">Aligarh</option>
                                                            <option value="Allahabad">Allahabad</option>
                                                            <option value="Alwar">Alwar</option>
                                                            <option value="Amalapuram">Amalapuram</option>
                                                            <option value="Ambala">Ambala</option>
                                                            <option value="Ambernath">Ambernath</option>
                                                            <option value="Ambikapur">Ambikapur</option>
                                                            <option value="Amethi">Amethi</option>
                                                            <option value="Amravati">Amravati</option>
                                                            <option value="Amreli">Amreli</option>
                                                            <option value="Amritsar">Amritsar</option>
                                                            <option value="Amroha">Amroha</option>
                                                            <option value="Anantapur">Anantapur</option>
                                                            <option value="Aurangabad(bh)">Aurangabad(bh)</option>
                                                            <option value="Avadi">Avadi</option>
                                                            <option value="Azamgarh">Azamgarh</option>
                                                            <option value="Baddi">Baddi</option>
                                                            <option value="Badlapur">Badlapur</option>
                                                            <option value="Baran">Baran</option>
                                                            <option value="Barasat">Barasat</option>
                                                            <option value="Baraut">Baraut</option>
                                                            <option value="Bardhaman">Bardhaman</option>
                                                            <option value="Bardoli">Bardoli</option>
                                                            <option value="Bareilly">Bareilly</option>
                                                            <option value="Bargarh">Bargarh</option>
                                                            <option value="Baripada">Baripada</option>
                                                            <option value="Barmer">Barmer</option>
                                                            <option value="Barnala">Barnala</option>
                                                            <option value="Barpeta">Barpeta</option>
                                                            <option value="Barrackpore">Barrackpore</option>
                                                            <option value="Barsar">Barsar</option>
                                                            <option value="Barshi">Barshi</option>
                                                            <option value="Baruipur">Baruipur</option>
                                                        </select>
                                                    </div>
                                                    <a href="#" class="btn btn-primary btn-block btn-md text-uppercase font-weight-bold">Find Car</a>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End Slider-->

<!-- Car Deals-->
<section>
    <div class="container">
        <div class="row d-flex justify-content-center text-center">
            <div class="col-12 col-lg-6 pb-3">
                <h3>As nossas últimas entradas</h3>
            </div>
            
            

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
    function printCars(vList){
        var brand, model, price, km, fuel, cv, img, version;
        for (let i = 0; i<4; i++) {
            
            let carID = document.getElementById("car"+i);
            let priceID = document.getElementById("price"+i);
            let kmID = document.getElementById("km"+i);
            let fuelID = document.getElementById("fuel"+i);
            let HPIP = document.getElementById("hp"+i);
            let imgID = document.getElementById("imgsrc"+i);
            let vehicle = vList[i];
            
            brand = vehicle.getElementsByTagName('Brand')[0].firstChild.nodeValue;
            model = vehicle.getElementsByTagName('Model')[0].firstChild.nodeValue;
            version = vehicle.getElementsByTagName('Version')[0].textContent;
            price = parseInt(vehicle.getElementsByTagName('Price')[0].textContent).toLocaleString('pt') + " €";;
            km = parseInt(vehicle.getElementsByTagName('Kms')[0].textContent).toLocaleString("pt") + " km";
            fuel = vehicle.getElementsByTagName('Fuel')[0].firstChild.nodeValue;
            cv = vehicle.getElementsByTagName('HP')[0].firstChild.nodeValue + " cv";
            img = vehicle.getElementsByTagName('PhotoList')[0].getElementsByTagName("Photo")[0].firstChild.nodeValue;
            
            
            
            let carName = brand +" "+ model + " " + version;
            if(carName.length > 27){
                carName = carName.substr(0,27) + "..."
            } 
            carID.innerHTML=carName;
            priceID.innerHTML=price;
            kmID.innerHTML=" " + km;
            fuelID.innerHTML=" " + fuel;
            HPIP.innerHTML=" " + cv;
            imgID.src=img;
            
        }
        
        for (let i = 4; i<8; i++) {
            
            let carID = document.getElementById("car"+i);
            let priceID = document.getElementById("price"+i);
            let kmID = document.getElementById("km"+i);
            let fuelID = document.getElementById("fuel"+i);
            let HPIP = document.getElementById("hp"+i);
            let imgID = document.getElementById("imgsrc"+i);
            
            let j = Math.floor(Math.random()*(vList.length-5)+4);
            let vehicle = vList[j];
            
            brand = vehicle.getElementsByTagName('Brand')[0].firstChild.nodeValue;
            model = vehicle.getElementsByTagName('Model')[0].firstChild.nodeValue;
            version = vehicle.getElementsByTagName('Version')[0].textContent;
            price = parseInt(vehicle.getElementsByTagName('Price')[0].textContent).toLocaleString('pt') + " €";;
            km = parseInt(vehicle.getElementsByTagName('Kms')[0].textContent).toLocaleString("pt") + " km";
            fuel = vehicle.getElementsByTagName('Fuel')[0].firstChild.nodeValue;
            cv = vehicle.getElementsByTagName('HP')[0].firstChild.nodeValue + " cv";
            img = vehicle.getElementsByTagName('PhotoList')[0].getElementsByTagName("Photo")[0].firstChild.nodeValue;
            
            
            let carName = brand +" "+ model + " " + version;
            if(carName.length > 25){
                carName = carName.substr(0,25) + "..."
            } 
            carID.innerHTML=carName;
            priceID.innerHTML=price;
            kmID.innerHTML=" " + km;
            fuelID.innerHTML=" " + fuel;
            HPIP.innerHTML=" " + cv;
            imgID.src=img;
            
        }
    }
    
    function fillFilter(vehicles){
        let map = new Map();
        for(let i=0;i<vehicles.length;i++) {
            let vehicle = vehicles[i];
            let brand = vehicle.getElementsByTagName('Brand')[0].firstChild.nodeValue;
            let model = vehicle.getElementsByTagName('Model')[0].firstChild.nodeValue;
            let models = map.get(brand);
            if (models) {
                let modelNumber = models.get(model);
                if(modelNumber)
                    models.set(model, modelNumber + 1);
                else {
                    models.set(model, 1);
                } 
            } else {
                let newModels = new Map();
                newModels.set(model, 1);
                map.set(brand, newModels);
            }
        }
        
        
        
       
        
        
        let keys = [...map.keys()];
        keys.sort();
        let brandSelector = document.getElementById("brandSel");
        let allOption = document.createElement("option");
        allOption.textContent = "Selecionar Marca";
        allOption.setAttribute("selected", "selected");
        allOption.setAttribute("disabled", "disabled");
        allOption.setAttribute("value", "-1");
        brandSelector.appendChild(allOption);
        for (let i =0; i< keys.length;i++) {
            let brand = keys[i];
            let option = document.createElement("option");
            option.textContent = brand;
            brandSelector.appendChild(option);
            let modelsMap = map.get(keys[i]);
        }
        
        
        console.log(map);
        
        /*
        map = new Map();
        for(let i=0;i<vehicles.length;i++) {
            let vehicle = vehicles[i];
            let brand = vehicle.getElementsByTagName('Brand')[0].firstChild.nodeValue;
            let model1 = vehicle.getElementsByTagName('Model')[0].firstChild.nodeValue;
            let version = vehicle.getElementsByTagName('Version')[0].textContent;
            let model = model1 + " " + version;
            let models = map.get(brand);
            if (models) {
                models[models.length] = model;
                
            } else {
                let newModels = [];
                newModels[0] = model;
                map.set(brand, newModels);
            }
        }
        */

        saveBrandsAndModels(map);
    }
    
    function changeModels() {
        let map = getBrandsAndModels();
        console.log(map);
        let brand = document.getElementById("brandSel").value;
        let modelsSelector = document.getElementById("modelSel");
        modelsSelector.innerHTML = "";
        console.log("Option selected: " + brand);
        let models = map.get(brand);
        let keys = [...models.keys()];
        keys.sort();
        console.log(keys);
        let modelSelector = document.getElementById("modelSel");
        let allOption = document.createElement("option");
        allOption.textContent = "Ver Todos";
        allOption.setAttribute("selected", "selected");
        modelSelector.appendChild(allOption);
        for (let i =0; i< keys.length;i++) {
            let model = keys[i];
            let option = document.createElement("option");
            option.textContent = model + " (" + models.get(model) + ")";
            modelSelector.appendChild(option);
            let modelsMap = map.get(keys[i]);
        }
        
    }
    
    document.addEventListener('DOMContentLoaded', ()=>{
        let url = "https://feeds.standvirtual.com/feeds-carspt/feed_user_business_43a2348027cdb8d216f4fb15fd9e1e4f.xml";
        fetch(url)
        .then(response=>response.text())
        .then(data=>{
            let parser = new DOMParser();
            let xml = parser.parseFromString(data, "application/xml");
            let vehicles = xml.getElementsByTagName('Vehicle');
            printCars(vehicles);
            fillFilter(vehicles);
            saveXML(data);
        })
    });

    function searchVehicle() {
        let brand = document.getElementById("brandSel").value;
        let model = document.getElementById("modelSel").value;

        if (brand != -1)
            document.location.href = "./search.html" +
                (brand != -1 ? "?brand=" + brand : "") +
                (model != -1 ? "&model=" + model : "");
        else
            alert("Selecione uma Marca para pesquisar");
    }

    function saveBrandsAndModels(map) {
        for (let [brand, models] of map.entries()) {
            map.set(brand, JSON.stringify([...models.entries()]));
        }
        map = JSON.stringify([...map.entries()]);
        localStorage.setItem("brandsAndModels", map);
    }

    function getBrandsAndModels() {
        let savedMap = JSON.parse(localStorage.getItem("brandsAndModels"));
        let map = new Map();
        savedMap.map(brandModel => {
            map.set(brandModel[0], new Map(JSON.parse(brandModel[1])))
        });
        return map;
    }

    function saveXML(data) {
        localStorage.setItem("xml", data);
    }

    function getXML() {
        return new DOMParser().parseFromString(localStorage.getItem("xml"), "application/xml");
    }
</script>



        </div>
                <div class="slider multiple-items">
                    <div>
                        <a href="#"><img id = "imgsrc0" src="" alt="" class="img-fluid1 rounded-top" /></a>
                        <div class="card c-brd-light car-box">
                            <div class="card-body">
                                <h6 class="mb-2"><a href="listing-details.html" id = "car0"></a></h6>
                                <small><h6 class="c-primary d-inline-block mb-0" id = "price0"></h6> Negociável</small>
                            </div>
                            <ul class="list-inline mb-0 text-center down-content py-2 c-brd-light border border-left-0 border-bottom-0 border-right-0">
                                <li class="list-inline-item mr-3"><i class="fa fa-tachometer-alt" aria-hidden="true"></i><a class="c-light" id = "km0"></a></li>
                                <li class="list-inline-item"><i class="fa fa-tint" aria-hidden="true"></i><a class="c-light" id = "fuel0"></a></li>
                                <li class="list-inline-item mr-3"><i class="fa fa-car" aria-hidden="true"></i><a class="c-light" id = "hp0"></a></li>
                            </ul>
                        </div>
                    </div>
                    <div>
                        <a href="#"><img id = "imgsrc1" src="" alt="" class="img-fluid1 rounded-top" /></a>
                        <div class="card c-brd-light car-box">
                            <div class="card-body">
                                <h6 class="mb-2"><a href="listing-details.html" id = "car1"></a></h6>
                                <small><h6 class="c-primary d-inline-block mb-0" id = "price1"></h6> Negociável</small>
                            </div>
                            <ul class="list-inline mb-0 text-center down-content py-2 c-brd-light border border-left-0 border-bottom-0 border-right-0">
                                <li class="list-inline-item mr-3"><i class="fa fa-tachometer-alt" aria-hidden="true"></i><a class="c-light" id = "km1"></a></li>
                                <li class="list-inline-item"><i class="fa fa-tint" aria-hidden="true"></i><a class="c-light" id = "fuel1"></a></li>
                                <li class="list-inline-item mr-3"><i class="fa fa-car" aria-hidden="true"></i><a class="c-light" id = "hp1"></a></li>
                            </ul>
                        </div>
                    </div>
                     <div>
                        <a href="#"><img id = "imgsrc2" src="" alt="" class="img-fluid1 rounded-top" /></a>
                        <div class="card c-brd-light car-box">
                            <div class="card-body">
                                <h6 class="mb-2"><a href="listing-details.html" id = "car2" ></a></h6>
                                <small><h6 class="c-primary d-inline-block mb-0" id = "price2"></h6> Negociável</small>
                            </div>
                            <ul class="list-inline mb-0 text-center down-content py-2 c-brd-light border border-left-0 border-bottom-0 border-right-0">
                                <li class="list-inline-item mr-3"><i class="fa fa-tachometer-alt" aria-hidden="true"></i><a class="c-light" id = "km2"></a></li>
                                <li class="list-inline-item"><i class="fa fa-tint" aria-hidden="true"></i><a class="c-light" id = "fuel2"></a></li>
                                <li class="list-inline-item mr-3"><i class="fa fa-car" aria-hidden="true"></i><a class="c-light" id = "hp2"></a></li>
                            </ul>
                        </div>
                    </div>
                    
                     <div>
                        <a href="#"><img id = "imgsrc3" src="" alt="" class="img-fluid1 rounded-top" /></a>
                        <div class="card c-brd-light car-box">
                            <div class="card-body">
                                <h6 class="mb-2"><a href="listing-details.html" id = "car3"></a></h6>
                                <small><h6 class="c-primary d-inline-block mb-0" id = "price3"></h6> Negociável</small>
                            </div>
                            <ul class="list-inline mb-0 text-center down-content py-2 c-brd-light border border-left-0 border-bottom-0 border-right-0">
                                <li class="list-inline-item mr-3"><i class="fa fa-tachometer-alt" aria-hidden="true"></i><a class="c-light" id = "km3"></a></li>
                                <li class="list-inline-item"><i class="fa fa-tint" aria-hidden="true"></i><a class="c-light" id = "fuel3"></a></li>
                                <li class="list-inline-item mr-3"><i class="fa fa-car" aria-hidden="true"></i><a class="c-light" id = "hp3"></a></li>
                            </ul>
                        </div>
                    </div>
                             
                </div>
        
        
            <div class="row d-flex justify-content-center text-center" style="margin-top: 35px">
            <div class="col-12 col-lg-6 pb-3">
                <h3>Os mais procurados da semana</h3>
            </div>
                </div>
         
        
                <div class="slider multiple-items">
                    <div>
                        <a href="#"><img id = "imgsrc4" src="" alt="" class="img-fluid1 rounded-top" /></a>
                        <div class="card c-brd-light car-box">
                            <div class="card-body">
                                <h6 class="mb-2"><a href="listing-details.html" id = "car4"></a></h6>
                                <small><h6 class="c-primary d-inline-block mb-0" id = "price4"></h6> Negociável</small>
                            </div>
                            <ul class="list-inline mb-0 text-center down-content py-2 c-brd-light border border-left-0 border-bottom-0 border-right-0">
                                <li class="list-inline-item mr-3"><i class="fa fa-tachometer-alt" aria-hidden="true"></i><a class="c-light" id = "km4"></a></li>
                                <li class="list-inline-item"><i class="fa fa-tint" aria-hidden="true"></i><a class="c-light" id = "fuel4"></a></li>
                                <li class="list-inline-item mr-3"><i class="fa fa-car" aria-hidden="true"></i><a class="c-light" id = "hp4"></a></li>
                            </ul>
                        </div>
                    </div>
                    <div>
                        <a href="#"><img id = "imgsrc5" src="" alt="" class="img-fluid1 rounded-top" id=""/></a>
                        <div class="card c-brd-light car-box">
                            <div class="card-body">
                                <h6 class="mb-2"><a href="listing-details.html" id = "car5"></a></h6>
                                <small><h6 class="c-primary d-inline-block mb-0" id = "price5"></h6> Negociável</small>
                            </div>
                            <ul class="list-inline mb-0 text-center down-content py-2 c-brd-light border border-left-0 border-bottom-0 border-right-0">
                                <li class="list-inline-item mr-3"><i class="fa fa-tachometer-alt" aria-hidden="true"></i><a class="c-light" id = "km5"></a></li>
                                <li class="list-inline-item"><i class="fa fa-tint" aria-hidden="true"></i><a class="c-light" id = "fuel5"></a></li>
                                <li class="list-inline-item mr-3"><i class="fa fa-car" aria-hidden="true"></i><a class="c-light" id = "hp5"></a></li>
                            </ul>
                        </div>
                    </div>
                     <div>
                        <a href="#"><img id = "imgsrc6" src="" alt="" class="img-fluid1 rounded-top" /></a>
                        <div class="card c-brd-light car-box">
                            <div class="card-body">
                                <h6 class="mb-2"><a href="listing-details.html" id = "car6"></a></h6>
                                <small><h6 class="c-primary d-inline-block mb-0" id = "price6"></h6> Negociável</small>
                            </div>
                            <ul class="list-inline mb-0 text-center down-content py-2 c-brd-light border border-left-0 border-bottom-0 border-right-0">
                                <li class="list-inline-item mr-3"><i class="fa fa-tachometer-alt" aria-hidden="true"></i><a class="c-light" id = "km6"></a></li>
                                <li class="list-inline-item"><i class="fa fa-tint" aria-hidden="true"></i><a class="c-light" id = "fuel6"></a></li>
                                <li class="list-inline-item mr-3"><i class="fa fa-car" aria-hidden="true"></i><a class="c-light" id = "hp6"></a></li>
                            </ul>
                        </div>
                    </div>
                     <div>
                        <a href="#"><img id = "imgsrc7" src="" alt="" class="img-fluid1 rounded-top" /></a>
                        <div class="card c-brd-light car-box">
                            <div class="card-body">
                                <h6 class="mb-2"><a href="listing-details.html" id = "car7"></a></h6>
                                <small><h6 class="c-primary d-inline-block mb-0" id = "price7"></h6> Negociável</small>
                            </div>
                            <ul class="list-inline mb-0 text-center down-content py-2 c-brd-light border border-left-0 border-bottom-0 border-right-0">
                                <li class="list-inline-item mr-3"><i class="fa fa-tachometer-alt" aria-hidden="true"></i><a class="c-light" id = "km7"></a></li>
                                <li class="list-inline-item"><i class="fa fa-tint" aria-hidden="true"></i><a class="c-light" id = "fuel7"></a></li>
                                <li class="list-inline-item mr-3"><i class="fa fa-car" aria-hidden="true"></i><a class="c-light" id = "hp7"></a></li>
                            </ul>
                        </div>
                    </div>
                    
                </div>
            
            
        </div>
    <!--
    <div class="container">
        <a href="#" class="btn btn-primary text-uppercase font-weight-bold" style = "margin: auto; margin-top:  20px; display: flex; display: grid; width: 30%">Ver tudo</a>
    </div>    
    -->
    
</section>

<!-- End Car Deals-->

<!-- Car Featured-->
<!--

-->
<!-- End Car Featured-->

<!-- Brand-->
<section>
    <div class="container" style = "">
        <div class="row d-flex justify-content-center text-center">
            <div class="col-12 col-lg-6 pb-3">
                <h3>Principais Marcas</h3>
            </div>
        </div>
        <div id="owl-client" class="owl-carousel owl-theme">
            <div class="item">
                <div class="row">
                    <div class="col-12 col-sm-6 col-md-4 col-xl-2 mb-4">
                        <a href="./search.html?brand=BMW">
                            <div class="card c-brd-light rounded-1 text-center" style="margin-left: -15px;
    margin-right: 5px;">
                                <div class="card-body py-0">
                                    <img src="dist/images/brands/bmw.png" alt="BMW" title="BMW" class="img-fluid" />
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-xl-2 mb-4 mb-sm-0">
                        <a href="./search.html?brand=Audi">
                            <div class="card c-brd-light rounded-1 text-center" style="margin-left: -15px;
    margin-right: 5px;">
                                <div class="card-body py-0">
                                    <img src="dist/images/brands/audi.png" alt="Audi" title="Audi" class="img-fluid" />
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-xl-2 mb-4">
                        <a href="./search.html?brand=Mercedes-Benz">
                            <div class="card c-brd-light rounded-1 text-center" style="margin-left: -15px;
    margin-right: 5px;">
                                <div class="card-body py-0">
                                    <img src="dist/images/brands/mercedes.png" alt="Mercedes" title="Mercedes" class="img-fluid" />
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-xl-2 mb-4">
                        <a href="./search.html?brand=VW">
                            <div class="card c-brd-light rounded-1 text-center" style="margin-left: -15px;
    margin-right: 5px;">
                                <div class="card-body py-0">
                                    <img src="dist/images/brands/VW.png" alt="Volkswagen" title="Volkswagen" class="img-fluid" />
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-xl-2 mb-4">
                        <a href="./search.html?brand=Peugeot">
                            <div class="card c-brd-light rounded-1 text-center" style="margin-left: -15px;
    margin-right: 5px;">
                                <div class="card-body py-0">
                                    <img src="dist/images/brands/peugeot.png" alt="Peugeot" title="Peugeot" class="img-fluid" />
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-xl-2 mb-4 mb-xl-0">
                        <a href="./search.html?brand=SEAT">
                            <div class="card c-brd-light rounded-1 text-center" style="margin-left: -15px;
    margin-right: 5px;">
                                <div class="card-body py-0">
                                    <img src="dist/images/brands/seat.png" alt="Seat" title="Seat" class="img-fluid" />
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-xl-2 mb-4">
                        <a href="./search.html?brand=Opel">
                            <div class="card c-brd-light rounded-1 text-center" style="margin-left: -15px;
    margin-right: 5px;">
                                <div class="card-body py-0">
                                    <img src="dist/images/brands/opel.png" alt="Opel" title="Opel" class="img-fluid" />
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-xl-2 mb-4 mb-xl-0">
                        <a href="./search.html?brand=Renault">
                            <div class="card c-brd-light rounded-1 text-center" style="margin-left: -15px;
    margin-right: 5px;">
                                <div class="card-body py-0">
                                    <img src="dist/images/brands/renault.png" alt="Renault" title="Renault" class="img-fluid" />
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-xl-2 mb-4 mb-xl-0">
                        <a href="./search.html?brand=Citroën">
                            <div class="card c-brd-light rounded-1 text-center" style="margin-left: -15px;
    margin-right: 5px;">
                                <div class="card-body py-0">
                                    <img src="dist/images/brands/citroen.png" alt="Citroen" title="Citroen" class="img-fluid" />
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-xl-2 mb-4 mb-sm-0">
                        <a href="./search.html?brand=Ford">
                            <div class="card c-brd-light rounded-1 text-center" style="margin-left: -15px;
    margin-right: 5px;">
                                <div class="card-body py-0">
                                    <img src="dist/images/brands/ford.png" alt="Ford" title="Ford" class="img-fluid" />
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-xl-2 mb-4">
                        <a href="./search.html?brand=MINI">
                            <div class="card c-brd-light rounded-1 text-center" style="margin-left: -15px;
    margin-right: 5px;">
                                <div class="card-body py-0">
                                    <img src="dist/images/brands/mini.png" alt="Mini" title="Mini" class="img-fluid" />
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 col-xl-2">
                        <a href="./search.html?brand=Fiat">
                            <div class="card c-brd-light rounded-1 text-center" style="margin-left: -15px;
    margin-right: 5px;">
                                <div class="card-body py-0">
                                    <img src="dist/images/brands/fiat.png" alt="Fiat" title="Fiat" class="img-fluid" />
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End Brand-->

<!-- Comparison-->
<!-- End Comparison-->

<!-- Footer Top -->
<section class="footer ">
    <div class="container">
        <div class="row d-flex justify-content-center text-center">
            <div class="col-12 col-lg-6 pb-3">
                <h3>Contactos</h3>
            </div>
        </div>
        <div class="row">
            
            <div class="col-9" style="max-width: 100%">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3116.0343723848755!2d-9.168496684244191!3d38.648089979609836!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd19356ac79754bf%3A0xb0f3e8861a5f95f1!2sSamucar!5e0!3m2!1spt-PT!2spt!4v1574689975415!5m2!1spt-PT!2spt" style="border:0; max-width: 100%" allowfullscreen="" width="100%" height="100%" frameborder="0"></iframe>

            </div>
            
            
                
                
                <ul class="list-unstyled footer-address mb-0 info">
                    
                    <li><a href="#"><i class="fa fa-map-marker pr-2"></i> Estrada da Algazarra nº1D, 2810-014 Almada</a></li>
                    <li><a href="tel:+1 212-725-5400"><i class="fa fa-phone pr-2"></i> 212345678</a></li>
                    <li><a href="mailto:"><i class="fa fa-envelope pr-2"></i> automoveisamucar@gmail.com</a></li>
                    <li><a href="#"><i class="fa fa-fax pr-2"></i> Termos e condições</a></li>
                </ul>
            
            
            
        </div>
    </div>
</section>
<!-- End Footer Top-->

<!-- Footer Bottom -->
<section class="footer-bottom c-bg-dark py-3">
    <div class="container">
        <div class="row">
            <div class="col-12 col-lg-8 text-lg-left text-center mb-3 mb-lg-0">
                <span class="copyright">Copyright &copy; 2020-2021 Powered By <a href="#">AutoBoost</a>  Todos os direitos reservados.</span>
            </div>
            <div class="col-12 col-lg-4 text-lg-right text-center">
                <ul class="list-inline footer-social mb-0">
                    <li class="list-inline-item"><a href="#"><i class="fa fa-facebook pr-3"></i></a></li>
                    <li class="list-inline-item"><a href="#"><i class="fa fa-twitter pr-3"></i></a></li>
                    <li class="list-inline-item"><a href="#"><i class="fa fa-linkedin pr-3"></i></a></li>
                    <li class="list-inline-item"><a href="#"><i class="fa fa-youtube-play pr-3"></i></a></li>
                    <li class="list-inline-item"><a href="#"><i class="fa fa-pinterest-p pr-3"></i></a></li>
                    <li class="list-inline-item"><a href="#"><i class="fa fa-instagram"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
</section>
<!-- End Footer Bottom -->

<!-- Top To Bottom-->
<div class="scrollup">
    <img src="dist/images/up-arrow.png" class="img-fluid" />
</div>
<!-- End Top To Bottom-->

<!-- Login /Register Form-->
<div id="signup" class="popupContainer bg-white">
    <header class="popupHeader p-3 text-uppercase">
        <span class="header_title font-weight-bold c-dark">Login</span>
        <span class="modal_close float-right"><i class="fa fa-times"></i></span>
    </header>
    <div class="card-body">
        <!-- Social Login -->
        <!-- Username & Password Login form -->
        <div class="user_login">
            <form>
                <div class="form-group">
                    <input type="text" class="form-control rounded-0" placeholder="username or email address" />
                </div>
                <div class="form-group">
                    <input type="password" class="form-control rounded-0" placeholder="password" />
                </div>
                <div class="checkbox form-group">
                    <input id="remember" type="checkbox" />
                    <label for="remember">Remember me on this computer</label>
                </div>
                <div class="action_btns form-group">
                    <a href="#" class="btn btn-primary btn-md btn-block">Login</a>
                </div>
                <div class="form-group mb-0 text-center">
                    <p>Sign in with your social network</p>
                    <ul class="list-inline footer-social mb-2">
                        <li class="list-inline-item"><a href="#"><i class="fa fa-facebook pr-3"></i></a></li>
                        <li class="list-inline-item"><a href="#"><i class="fa fa-twitter pr-3"></i></a></li>
                        <li class="list-inline-item"><a href="#"><i class="fa fa-linkedin pr-3"></i></a></li>
                        <li class="list-inline-item"><a href="#"><i class="fa fa-pinterest-p pr-3"></i></a></li>
                        <li class="list-inline-item"><a href="#"><i class="fa fa-instagram"></i></a></li>
                    </ul>
                    <div class="border border-top-0 c-brd-light my-3"></div>
                    Don't have an account <a href="#" class="register_form c-primary">Sign Up</a>
                </div>
            </form>
        </div>

        <!-- Register Form -->
        <div class="user_register">
            <form>
                <div class="form-group">
                    <input type="text" class="form-control rounded-0" placeholder="Username" />
                </div>
                <div class="form-group">
                    <input type="email" class="form-control rounded-0" placeholder="Email Address" />
                </div>
                <div class="form-group">
                    <input type="password" class="form-control rounded-0" placeholder="Password" />
                </div>
                <div class="checkbox form-group">
                    <input id="send_updates" type="checkbox" />
                    <label for="send_updates">Send me occasional email updates</label>
                </div>
                <div class="action_btns form-group">
                    <a href="#" class="btn btn-primary btn-md btn-block">Register</a>
                </div>
                <div class="form-group mb-0 text-center">
                    <p>Register with your social network</p>
                    <ul class="list-inline footer-social mb-2">
                        <li class="list-inline-item"><a href="#"><i class="fa fa-facebook pr-3"></i></a></li>
                        <li class="list-inline-item"><a href="#"><i class="fa fa-twitter pr-3"></i></a></li>
                        <li class="list-inline-item"><a href="#"><i class="fa fa-linkedin pr-3"></i></a></li>
                        <li class="list-inline-item"><a href="#"><i class="fa fa-pinterest-p pr-3"></i></a></li>
                        <li class="list-inline-item"><a href="#"><i class="fa fa-instagram"></i></a></li>
                    </ul>
                    <div class="border border-top-0 c-brd-light my-3"></div>
                    Already have an account <a href="#" class="login_form c-primary">Sign In</a>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- End Login /Register Form-->

<!-- jQuery -->
<script src="dist/js/plugins.min.js"></script>
<script src="dist/js/common.js"></script>
</body>
</html>
